using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region FAAdjAssetCriterias
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:FAAdjAssetCriteriasController
	//Created Date:21 August 2015
	//-----------------------------------------------------------
	
	public class FAAdjAssetCriteriasController:BaseBusinessController
	{
		public FAAdjAssetCriteriasController()
		{
			dal= new DALBaseProvider("FAAdjAssetCriterias",typeof(FAAdjAssetCriteriasInfo));
		}

        public DataSet GetAllDataByAssetAfterDate(int iFAAssetID, DateTime dtDateTime)
        {
            string strQuery = string.Format(@"SELECT  dbo.FAAdjAssetCriterias.*
                                            FROM    dbo.FAAdjAssetCriterias
                                                    INNER JOIN dbo.FAAdjAssetCriteriaItems 
                                                                ON dbo.FAAdjAssetCriterias.FAAdjAssetCriteriaID = dbo.FAAdjAssetCriteriaItems.FK_FAAdjAssetCriteriaID
                                                                    AND dbo.FAAdjAssetCriterias.AAStatus = 'Alive'
                                                                    AND dbo.FAAdjAssetCriteriaItems.AAStatus = 'Alive'
                                                                    AND FK_FAAssetID = {0}
                                                                    AND CONVERT(NVARCHAR(10), dbo.FAAdjAssetCriterias.FAAdjAssetCriteriaDate, 112) > CONVERT(NVARCHAR(10), '{1}', 112)", iFAAssetID, dtDateTime.ToString("yyyyMMdd"));
            return GetDataSet(strQuery);
        }

        public DataSet GetAllDataByAssetInDate(int iFAAssetID, DateTime dtDateTime)
        {
            string strQuery = string.Format(@"SELECT  dbo.FAAdjAssetCriterias.*
                                            FROM    dbo.FAAdjAssetCriterias
                                                    INNER JOIN dbo.FAAdjAssetCriteriaItems 
                                                                ON dbo.FAAdjAssetCriterias.FAAdjAssetCriteriaID = dbo.FAAdjAssetCriteriaItems.FK_FAAdjAssetCriteriaID
                                                                    AND dbo.FAAdjAssetCriterias.AAStatus = 'Alive'
                                                                    AND dbo.FAAdjAssetCriteriaItems.AAStatus = 'Alive'
                                                                    AND FK_FAAssetID = {0}
                                                                    AND CONVERT(NVARCHAR(10), dbo.FAAdjAssetCriterias.FAAdjAssetCriteriaDate, 112) = CONVERT(NVARCHAR(10), '{1}', 112)", iFAAssetID, dtDateTime.ToString("yyyyMMdd"));
            return GetDataSet(strQuery);
        }

        public DataSet GetAllDataAfterDate(DateTime dtDateTime)
        {
            string strQuery = string.Format(@"SELECT  dbo.FAAdjAssetCriterias.*
                                            FROM    dbo.FAAdjAssetCriterias
                                                    WHERE  dbo.FAAdjAssetCriterias.AAStatus = 'Alive'
                                                           AND CONVERT(NVARCHAR(10), dbo.FAAdjAssetCriterias.FAAdjAssetCriteriaDate, 112) > CONVERT(NVARCHAR(10), '{0}', 112)", dtDateTime.ToString("yyyyMMdd"));
            return GetDataSet(strQuery);
        }
	}
	#endregion
}