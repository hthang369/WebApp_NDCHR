using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region HRCourses
	//-----------------------------------------------------------
	//Generated By: Expert Studio
	//Class:HRCoursesController
	//Created Date:29 Tháng Năm 2013
	//-----------------------------------------------------------
	
	public class HRCoursesController:BaseBusinessController
	{
		public HRCoursesController()
		{
			dal= new DALBaseProvider("HRCourses",typeof(HRCoursesInfo));
		}
        public DataSet GetAllObjectByHRTraining(int iHRTraining)
        {
            string strQuery = string.Format(@"Select * from HRCourses where AAStatus='Alive' AND HRCourseID 
                                    in (select FK_HRCourseID from  HRTrainingCourses where AAStatus='Alive' AND FK_HRTrainingID={0})"
                                        , iHRTraining);
            return dal.GetDataSet(strQuery);
        }

        public DataSet GetAllDataByTrainingSemester(int iTrainingSemesterID)
        {
            String strQuery = String.Format(@"SELECT * FROM HRCourses WHERE AAStatus='Alive' AND HRCourseID IN (SELECT FK_HRCourseID FROM HRTrainingSemesterCourseEmployees WHERE AAStatus='Alive' AND FK_HRTrainingSemesterID={0})", iTrainingSemesterID);
            return GetDataSet(strQuery);
        }
    }
	#endregion
}