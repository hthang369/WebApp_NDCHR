using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region HROvertimeConfigs
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:HROvertimeConfigsController
	//Created Date:Tuesday, April 18, 2017
	//-----------------------------------------------------------
	
	public class HROvertimeConfigsController:BaseBusinessController
	{
		public HROvertimeConfigsController()
		{
			dal= new DALBaseProvider("HROvertimeConfigs",typeof(HROvertimeConfigsInfo));
		}

        public bool CheckOvertimeConfig()
        {
            int inumberrow=0;
            DataSet ds = dal.GetDataSet("SELECT COUNT(*) rownum FROM HROvertimeConfigs");
            if(ds!=null && ds.Tables.Count>0 && ds.Tables[0].Rows.Count>0)
            {
                inumberrow = Convert.ToInt32(ds.Tables[0].Rows[0]["rownum"]);
                if (inumberrow > 0) return true;
            }
            return false;
        }
        public double GetMinuteCalByConfig(double fMinute)
        {
            double dbSoPhut = 0;
            string str = string.Format(@"SELECT HROvertimeConfigMinuteCal
                                        FROM HROvertimeConfigs
                                        WHERE {0} BETWEEN HROvertimeConfigFromMinute 
                                        AND HROvertimeConfigToMinute",fMinute);

            DataSet ds = dal.GetDataSet(str);
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
            {
                dbSoPhut=Convert.ToDouble(ds.Tables[0].Rows[0][0]);
                
            }
            return dbSoPhut;
        }

    }
	#endregion
}