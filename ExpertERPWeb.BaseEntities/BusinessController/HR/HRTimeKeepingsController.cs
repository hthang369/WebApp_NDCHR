using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region HRTimeKeepings
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:HRTimeKeepingsController
	//Created Date:Monday, March 26, 2018
	//-----------------------------------------------------------
	
	public class HRTimeKeepingsController:BaseBusinessController
	{
		public HRTimeKeepingsController()
		{
			dal= new DALBaseProvider("HRTimeKeepings",typeof(HRTimeKeepingsInfo));
		}
        public DataSet SelectAllTimeKeepingByEmployeeIDAndPeriodID(int iEmployeeID, int iPeriod)
        {
            String str = String.Format(@"SELECT *
                                        FROM HRTimeKeepings
                                        WHERE AAStatus='Alive' AND FK_HREmployeeID ={0}
                                        AND FK_HRPeriodID={1}", iEmployeeID, iPeriod);
            return dal.GetDataSet(str);
        }
        public double GetWorkDayCntByEmployeeIDAndPeriodID(int iEmployeeID, int iPeriod)
        {
            String str = String.Format(@"SELECT *
                                        FROM HRTimeKeepings
                                        WHERE AAStatus='Alive' AND FK_HREmployeeID ={0}
                                        AND FK_HRPeriodID={1}", iEmployeeID, iPeriod);
           DataSet ds=dal.GetDataSet(str);
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
            {
                if (ds.Tables[0].Rows[0]["HRTimeKeepingWorkDayCnt"] != DBNull.Value)
                    return Convert.ToDouble(ds.Tables[0].Rows[0]["HRTimeKeepingWorkDayCnt"]);
                return -1;
            }
            return -1;
        }
        public DataSet SelectAllTimeKeepingByPeriodID(int iPeriod)
        {
            String str = String.Format(@"SELECT *
                                         FROM HRTimeKeepings
                                        WHERE AAStatus='Alive' AND FK_HRPeriodID={0}", iPeriod);
            return dal.GetDataSet(str);
        }
    }
	#endregion
}