using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region PRSlrAdjs
	//-----------------------------------------------------------
	//Generated By: Expert Studio
	//Class:PRSlrAdjsController
	//Created Date:09 Tháng Giêng 2013
	//-----------------------------------------------------------
	
	public class PRSlrAdjsController:BaseBusinessController
	{
		public PRSlrAdjsController()
		{
			dal= new DALBaseProvider("PRSlrAdjs",typeof(PRSlrAdjsInfo));
        }

        #region Copy From PS --Vinh 0/10/01/2013


        public bool CheckIsExistByPeriodAndYear(int iPeriod, int iYear)
        {
            string strQuery = String.Format(@"SELECT * FROM PRSlrAdjs WHERE AAStatus='Alive' AND Period ={0} AND Year={1}", iPeriod, iYear);
            DataSet ds = GetDataSet(strQuery);
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
                return true;
            return false;
        }

        public DataSet GetAllItemInPeriod(int iEmployeeID, int iPeriod, int iYear)
        {
            string strQuery = String.Format(@"SELECT * FROM PRSlrAdjItems WHERE
                                                FK_HREmployeeID = {0}
                                                AND FK_PRSlrAdjID IN (SELECT PRSlrAdjID FROM PRSlrAdjs WHERE AAStatus = 'Alive'
                                                 AND Period ={1} AND Year={2})", iEmployeeID, iPeriod, iYear);
            return GetDataSet(strQuery);
        }

        #endregion

    }
	#endregion
}