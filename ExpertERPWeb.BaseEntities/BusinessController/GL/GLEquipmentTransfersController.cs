using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region GLEquipmentTransfers
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:GLEquipmentTransfersController
	//Created Date:Thursday, December 15, 2011
	//-----------------------------------------------------------
	
	public class GLEquipmentTransfersController:BaseBusinessController
	{
		public GLEquipmentTransfersController()
		{
			dal= new DALBaseProvider("GLEquipmentTransfers",typeof(GLEquipmentTransfersInfo));
		}

        public DataSet GetDataByProductAfterDate(int iICProductID, DateTime dtDateTime)
        {
            string strQuery = string.Format(@"SELECT  dbo.GLEquipmentTransfers.*
                                FROM    dbo.GLEquipmentTransferItems
                                        INNER JOIN dbo.GLEquipmentTransfers 
                                        ON dbo.GLEquipmentTransferItems.FK_GLEquipmentTransferID = dbo.GLEquipmentTransfers.GLEquipmentTransferID
                                            AND dbo.GLEquipmentTransferItems.AAStatus = 'Alive'
                                            AND dbo.GLEquipmentTransfers.AAStatus = 'Alive'
                                            AND FK_ICProductID = {0}
                                            AND CONVERT(NVARCHAR(10), dbo.GLEquipmentTransfers.GLEquipmentTransferDate, 112) > CONVERT(NVARCHAR(10), '{1}', 112)",iICProductID,dtDateTime.ToString("yyyyMMdd"));
            return GetDataSet(strQuery);
        }
	}
	#endregion
}