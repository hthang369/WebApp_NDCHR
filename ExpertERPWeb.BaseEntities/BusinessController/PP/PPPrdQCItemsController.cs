using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region PPPrdQCItems
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:PPPrdQCItemsController
	//Created Date:16 Tháng Mười Hai 2013
	//-----------------------------------------------------------
	
	public class PPPrdQCItemsController:BaseBusinessController
	{
		public PPPrdQCItemsController()
		{
			dal= new DALBaseProvider("PPPrdQCItems",typeof(PPPrdQCItemsInfo));
		}
        
        public DataSet GetAllDataByProductionOrdr(int iProductionOrdrID)
        {
            String strQuery = String.Format(@"SELECT  *
                                                FROM    dbo.PPPrdQCItems
                                                WHERE   AAStatus = 'Alive'
                                                        AND FK_PPPrdQCID IN ( SELECT   PPPrdQCID
                                                                           FROM     dbo.PPPrdQCs
                                                                           WHERE    AAStatus = 'Alive'
                                                                                    AND FK_PPProductionOrdrID = {0} )", iProductionOrdrID);

            return GetDataSet(strQuery);
        }

        public DataSet GetAllDataByICReceiptItem(int iICReceiptItemID)
        {
            String str = String.Format(@"   SELECT * FROM dbo.PPPrdQCItems
                                            WHERE AAStatus = 'Alive'
                                            AND FK_ICReceiptItemID = {0}
                                            AND FK_PPPrdQCID IN (
                                                                    SELECT PPPrdQCID FROM dbo.PPPrdQCs
                                                                    WHERE AAStatus = 'Alive'
                                                                 )", iICReceiptItemID);
            return dal.GetDataSet(str);
        }
    }
	#endregion
}