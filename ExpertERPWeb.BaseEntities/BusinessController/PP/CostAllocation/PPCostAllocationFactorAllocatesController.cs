using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region PPCostAllocationFactorAllocates
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:PPCostAllocationFactorAllocatesController
	//Created Date:Friday, October 21, 2016
	//-----------------------------------------------------------
	
	public class PPCostAllocationFactorAllocatesController:BaseBusinessController
	{
		public PPCostAllocationFactorAllocatesController()
		{
			dal= new DALBaseProvider("PPCostAllocationFactorAllocates",typeof(PPCostAllocationFactorAllocatesInfo));
		}
        public PPCostAllocationFactorAllocatesInfo GetDataByCostCenterANDCostFactor(int iPPCostCenterID, int iPPCostFactorID,int iPPCostCenterParentID)
        {
            String str = String.Format(@"SELECT * FROM dbo.PPCostAllocationFactorAllocates
                                            WHERE FK_PPCostCenterID = {0}
                                            AND FK_PPCostFactorID = {1}
                                            AND FK_PPCostCenterParentID={2}
                                        ", iPPCostCenterID, iPPCostFactorID, iPPCostCenterParentID);
            DataSet ds = dal.GetDataSet(str);
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
            {
                return (PPCostAllocationFactorAllocatesInfo)dal.GetObjectFromDataRow(ds.Tables[0].Rows[0]);
            }
            return null;
        }

        public string GetMthComboByCostCenterIDAndCostFactorID(int iPPCostCenterID, int iPPCostFactorID)
        {
            String str = String.Format(@"SELECT * FROM dbo.PPCostAllocationFactorAllocates
                                            WHERE FK_PPCostCenterID = {0}
                                            AND FK_PPCostFactorID = {1}"
                                        , iPPCostCenterID, iPPCostFactorID);
            DataSet ds = dal.GetDataSet(str);
            string MthCombo = null;
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
            {
                PPCostAllocationFactorAllocatesInfo objPPCostAllocationFactorAllocateInfo = (PPCostAllocationFactorAllocatesInfo)dal.GetObjectFromDataRow(ds.Tables[0].Rows[0]);
                if (objPPCostAllocationFactorAllocateInfo != null)
                {
                    MthCombo = objPPCostAllocationFactorAllocateInfo.PPCostAllocationFactorAllocateMthCombo;
                }
            }
            return MthCombo;
        }

        public DataSet GetDataByCostCenter(int iPPCostCenterID)
        {
            String str = String.Format(@"SELECT * FROM dbo.PPCostAllocationFactorAllocates
                                            WHERE FK_PPCostCenterID = {0}
                                        ", iPPCostCenterID);
            
            return GetDataSet(str);
        }
    }
	#endregion
}