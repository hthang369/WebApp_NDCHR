using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region PPResourcesAllocations
	//-----------------------------------------------------------
	//Generated By: Expert Studio
	//Class:PPResourcesAllocationsController
	//Created Date:27 Tháng Tám 2013
	//-----------------------------------------------------------
	
	public class PPResourcesAllocationsController:BaseBusinessController
	{
		public PPResourcesAllocationsController()
		{
			dal= new DALBaseProvider("PPResourcesAllocations",typeof(PPResourcesAllocationsInfo));
		}
        public void DeleteDataByDate(DateTime dteFromDate, DateTime dteToDate)
        {
            string strQueryDate = DALUtil.GenerateBeetween("PPResourcesAllocationDate", dteFromDate, dteToDate);
            string strQuery = string.Format(@"Update PPResourcesAllocations set AAStatus='Delete' where {0}", strQueryDate);
            dal.GetDataSet(strQuery);
        }
        public DataSet GetAllDataByResourceAndDate(int iResourceID, DateTime dtDate)
        {
            string strQueryDate = DALUtil.GennerateCondition("PPResourcesAllocationDate", CompareType.Equal, dtDate);
            string strQuery = string.Format(@"select * from PPResourcesAllocations where AAStatus='Alive' AND (FK_PPResourceID={0} or {0}=0) AND {1}", iResourceID, strQueryDate);
            return dal.GetDataSet(strQuery);
        }
	}
	#endregion
}