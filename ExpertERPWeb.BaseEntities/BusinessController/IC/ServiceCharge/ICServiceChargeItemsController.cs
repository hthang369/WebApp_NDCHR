using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region ICServiceChargeItems
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ICServiceChargeItemsController
	//Created Date:20 Tháng Chín 2012
	//-----------------------------------------------------------
	
	public class ICServiceChargeItemsController:BaseBusinessController
	{
		public ICServiceChargeItemsController()
		{
			dal= new DALBaseProvider("ICServiceChargeItems",typeof(ICServiceChargeItemsInfo));
		}
        public DataSet GetAllObjectServiceChargeDateCustIDAndStatus(DateTime dteFromDate,DateTime dteTodate,int iCustomerID,string strStatus,string strFeeType)
        {
            string strQuery = string.Format(@"Select * from ICServiceChargeItems where AAStatus='Alive' AND (ICServiceChargeItemFeeTypeCombo = '{3}' or '{3}'='' or ICServiceChargeItemType = 'Fix')  
                        AND  FK_ICServiceChargeID 
                    in (Select ICServiceChargeID from ICServiceCharges where AAStatus='Alive' AND (ICServiceChargeItemStatus='{2}' or '{2}'='') AND (FK_ARCustomerID={1} or 0={1}) AND {0})"
                , DALUtil.GenerateBeetween("ICServiceChargeDate", dteFromDate, dteTodate), iCustomerID, strStatus, strFeeType);
            return dal.GetDataSet(strQuery);
        }
	}
	#endregion
}