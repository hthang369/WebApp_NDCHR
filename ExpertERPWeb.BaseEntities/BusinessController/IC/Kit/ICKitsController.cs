using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region ICKits
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ICKitsController
	//Created Date:Saturday, November 08, 2014
	//-----------------------------------------------------------
	
	public class ICKitsController:BaseBusinessController
	{
		public ICKitsController()
		{
			dal= new DALBaseProvider("ICKits",typeof(ICKitsInfo));
		}

//        public ICKitsInfo LayKitThanhPhamDuocActive(int iICProductID)
//        {
//            String strQuery = String.Format(@"SELECT * FROM dbo.ICKits
//                                              WHERE ICKitIsActive=1
//                                              AND AAStatus='Alive'
//                                              AND FK_ICProductID={0}",iICProductID);
//            DataSet ds = dal.GetDataSet(strQuery);
//            if (ds != null && ds.Tables[0].Rows != null && ds.Tables[0].Rows.Count != 0)
//            {
//                return (ICKitsInfo)dal.GetObjectFromDataRow(ds.Tables[0].Rows[0]);
//            }
//            return null;
//        }

//        public ICKitsInfo LayKitThanhPhamTheoRevision(int iICProductID, string strRevision, int iICKitID)
//        {
//            String strQuery = String.Format(@"SELECT * FROM dbo.ICKits
//                                              WHERE ICKitRevision='{1}'
//                                              AND AAStatus='Alive'
//                                              AND ICKitID<>{2}
//                                              AND FK_ICProductID={0}", iICProductID, strRevision,iICKitID);
//            DataSet ds = dal.GetDataSet(strQuery);
//            if (ds != null && ds.Tables[0].Rows != null && ds.Tables[0].Rows.Count != 0)
//            {
//                return (ICKitsInfo)dal.GetObjectFromDataRow(ds.Tables[0].Rows[0]);
//            }
//            return null;
//        }

        public ICKitsInfo LayKitThanhPham(int iICProductID)
        {
            DataSet ds = dal.GetAllDataByForeignColumn("FK_ICProductID", iICProductID);
            if (ds != null && ds.Tables[0].Rows != null && ds.Tables[0].Rows.Count != 0)
            {
                return (ICKitsInfo)dal.GetObjectFromDataRow(ds.Tables[0].Rows[0]);
            }
            return null;
        }
	}
	#endregion
}