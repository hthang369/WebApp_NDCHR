using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region ACCostSimulationBOMItems
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ACCostSimulationBOMItemsController
	//Created Date:Monday, July 21, 2014
	//-----------------------------------------------------------
	
	public class ACCostSimulationBOMItemsController:BaseBusinessController
	{
		public ACCostSimulationBOMItemsController()
		{
			dal= new DALBaseProvider("ACCostSimulationBOMItems",typeof(ACCostSimulationBOMItemsInfo));
		}

        public DataSet GetAllDataByProductParent(int iICProductParentID)
        {
            String str = String.Format(@"   SELECT * FROM dbo.ACCostSimulationBOMItems
                                            WHERE AAStatus = 'Alive'
                                            AND FK_ACCostSimulationBOMID IN (
									                                            SELECT TOP 1 ACCostSimulationBOMID FROM dbo.ACCostSimulationBOMs
									                                            WHERE AAStatus = 'Alive'
									                                            AND FK_ICProductID = {0}
									                                            ORDER BY ACCostSimulationBOMID DESC
								                                            )                                          
                                            ", iICProductParentID);
            return dal.GetDataSet(str);
        }
	}
	#endregion
}