using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region GEMemos
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:GEMemosController
	//Created Date:Thursday, December 25, 2014
	//-----------------------------------------------------------
	
	public class GEMemosController:BaseBusinessController
	{
		public GEMemosController()
		{
			dal= new DALBaseProvider("GEMemos",typeof(GEMemosInfo));
		}

        public DataSet GetAllDataByTypeAndObject(string strType, String strTableName, int iObjectID)
        {
            String strQuery = String.Format(@"SELECT * FROM GEMemos WHERE AAStatus='Alive' AND GEMemoTypeCombo='{0}' AND GEMemoID IN (SELECT FK_GEMemoID FROM GEMemoObjections WHERE AAStatus='Alive' AND FK_GERelationObjectID={2} AND GEMemoObjectionTableName='{1}')", strType, strTableName, iObjectID);

            return GetDataSet(strQuery);
        }
	}
	#endregion
}