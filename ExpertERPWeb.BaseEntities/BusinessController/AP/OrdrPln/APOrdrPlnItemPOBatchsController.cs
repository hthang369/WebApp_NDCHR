using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region APOrdrPlnItemPOBatchs
	//-----------------------------------------------------------
	//Generated By: Expert Studio
	//Class:APOrdrPlnItemPOBatchsController
	//Created Date:19 September 2012
	//-----------------------------------------------------------
	
	public class APOrdrPlnItemPOBatchsController:BaseBusinessController
	{
		public APOrdrPlnItemPOBatchsController()
		{
			dal= new DALBaseProvider("APOrdrPlnItemPOBatchs",typeof(APOrdrPlnItemPOBatchsInfo));
		}
        public DataSet GetAllDataByOrdrPlnInRange(DateTime dteFromDate, DateTime dteToDate)
        {
            string strQuery = string.Format(@"Select * from APOrdrPlnItemPOBatchs where AAStatus='Alive' and  
                                                         FK_APOrdrPlnID in (Select APOrdrPlnID from APOrdrPlns where AAStatus='Alive' 
                                                        AND (CONVERT(VARCHAR(10), [APOrdrPlnDate], 112)>= CONVERT(VARCHAR(10), '{0}', 112))
                                                        AND (CONVERT(VARCHAR(10), [APOrdrPlnDate], 112)<= CONVERT(VARCHAR(10), '{1}', 112))
                                                      )"
                                                        , dteFromDate.ToString("yyyyMMdd"), dteToDate.ToString("yyyyMMdd"));
            return dal.GetDataSet(strQuery);
        }
        public DataSet GetAllDataByOrdrPlnID(int iOrdrPlnID)
        {
            string strQuery = string.Format(@"Select * from APOrdrPlnItemPOBatchs 
                                                            where AAStatus='Alive'
                                                            AND FK_APOrdrPlnID='{0}'"
                                                       , iOrdrPlnID);
            return dal.GetDataSet(strQuery);
        }
	}
	#endregion
}