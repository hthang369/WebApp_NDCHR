using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region ARSalePointItems
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ARSalePointItemsController
	//Created Date:Friday, December 16, 2011
	//-----------------------------------------------------------
	
	public class ARSalePointItemsController:BaseBusinessController
	{
		public ARSalePointItemsController()
		{
			dal= new DALBaseProvider("ARSalePointItems",typeof(ARSalePointItemsInfo));
		}

        public Object GetSalePointItemOfProduct(int iProductID, DateTime cutoffdate)
        {
            String query = String.Format("Select * from ARSalePointItems Where FK_ICProductID = {0} And ARSalePointItemFromDate <= '{1}' And ARSalePointItemToDate >= '{1}' order by AACreatedDate", iProductID, String.Format("{0:yyyy/M/d HH:mm:ss}", cutoffdate));
            DataSet ds = dal.GetDataSet(query);

            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
            {
                return dal.GetObjectFromDataRow( ds.Tables[0].Rows[0]);
            }

            return null;
        }
	}
	#endregion
}