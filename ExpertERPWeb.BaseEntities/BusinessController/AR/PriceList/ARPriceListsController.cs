using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;


namespace ExpertERP.BusinessEntities
{
	#region ARPriceLists
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ARPriceListsController
	//Created Date:Sunday, March 23, 2008
	//-----------------------------------------------------------
	
	public class ARPriceListsController:BaseBusinessController
	{
		public ARPriceListsController()
		{
			dal= new DALBaseProvider("ARPriceLists",typeof(ARPriceListsInfo));
		}

        public DataSet GetPriceListsByCreatedDate(DateTime dtDateFrom, DateTime dtDateTo)
        {
            return dal.GetDataSet("ARPriceLists_SelectByCreatedDate", dtDateFrom, dtDateTo);
        }
        #region--hieu nguyen --
        public DataSet GetPriceListByCreateDate(DateTime dtFromDate, DateTime dtToDate)
        {
            String strQuery = String.Format("SELECT * FROM [dbo].[ARPriceLists] {0}", QueryCondition(dtFromDate, dtToDate));
            return (DataSet)dal.GetDataSet(strQuery);
        }
        private String QueryCondition(DateTime dtFromDate, DateTime dtToDate)
        {
            String strFormatDate = "yyyyMMdd";
            return String.Format(" WHERE CONVERT(VARCHAR(10), [AACreatedDate], 112)>= CONVERT(VARCHAR(10), '{0}', 112) AND CONVERT(VARCHAR(10), [AACreatedDate], 112)<= CONVERT(VARCHAR(10), '{1}', 112) AND [AAStatus]='{2}'", dtFromDate.ToString(strFormatDate), dtToDate.ToString(strFormatDate), BusinessObject.DefaultAAStatus);
        }
        public DataSet GetProductByDeleteDateAndStockID(DateTime dtFromDate, DateTime dtToDate, int iICStockID)
        {
            String strQuery = String.Format("SELECT * FROM [dbo].[ICProducts] {0}", QueryDeletedCondition(dtFromDate, dtToDate, iICStockID));
            return (DataSet)dal.GetDataSet(strQuery);
        }
        private String QueryDeletedCondition(DateTime dtFromDate, DateTime dtToDate, int iICStockID)
        {
            String strFormatDate = "yyyyMMdd";
            return String.Format(" WHERE CONVERT(VARCHAR(10), [AAUpdatedDate], 112)>= CONVERT(VARCHAR(10), '{0}', 112) AND CONVERT(VARCHAR(10), [AAUpdatedDate], 112)<= CONVERT(VARCHAR(10), '{1}', 112) AND [FK_ICStockID]={2} AND [AAStatus]='{3}'", dtFromDate.ToString(strFormatDate), dtToDate.ToString(strFormatDate), iICStockID, BusinessObject.DeletedAAStatus);
        }
        #endregion

       
    }
	#endregion
}