using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region ARSaleForecastCuss
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ARSaleForecastCussController
	//Created Date:Friday, December 11, 2015
	//-----------------------------------------------------------
	
	public class ARSaleForecastCussController:BaseBusinessController
	{
		public ARSaleForecastCussController()
		{
			dal= new DALBaseProvider("ARSaleForecastCuss",typeof(ARSaleForecastCussInfo));
		}

        public ARSaleForecastCussInfo GetObjectByForecastIDAndCustomer(int iCustomerID, int iSaleForecastID)
        {
            string strQry = string.Format(@"SELECT  dbo.ARSaleForecastCuss.* FROM dbo.ARSaleForecastCuss
                                            WHERE ARSaleForecastCuss.ARSaleForecastCusID IN (SELECT ARSaleForecastCuss.ARSaleForecastCusID 
										                                            FROM dbo.ARSaleForecasts, dbo.ARSaleForecastCuss
                                                                                    WHERE ARSaleForecasts.ARSaleForecastID = ARSaleForecastCuss.FK_ARSaleForecastID
                                                                                    AND ARSaleForecasts.AAStatus = 'Alive'
													                                AND ARSaleForecastCuss.AAStatus = 'Alive'
										                                            AND ARSaleForecasts.ARSaleForecastID = {0}
										                                            AND ARSaleForecastCuss.FK_ARCustomerID = {1})", iSaleForecastID, iCustomerID);
            DataSet ds = GetDataSet(strQry);
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
                return (ARSaleForecastCussInfo)GetObjectFromDataRow(ds.Tables[0].Rows[0]);
            else
                return null;
        }
	}
	#endregion
}