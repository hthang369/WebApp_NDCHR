using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region ARSaleForecastItems
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ARSaleForecastItemsController
	//Created Date:Friday, December 11, 2015
	//-----------------------------------------------------------
	
	public class ARSaleForecastItemsController:BaseBusinessController
	{
		public ARSaleForecastItemsController()
		{
			dal= new DALBaseProvider("ARSaleForecastItems",typeof(ARSaleForecastItemsInfo));
		}

        public ARSaleForecastItemsInfo GetObjectByForecastID(int iForecastCussID)
        {
            string strQry = string.Format(@"SELECT dbo.ARSaleForecastItems.* FROM dbo.ARSaleForecastItems
                                            WHERE ARSaleForecastItems.ARSaleForecastItemID IN (SELECT ARSaleForecastItems.ARSaleForecastItemID 
											                                            FROM dbo.ARSaleForecasts, dbo.ARSaleForecastCuss, dbo.ARSaleForecastItems
                                                                                        WHERE ARSaleForecasts.ARSaleForecastID = ARSaleForecastCuss.FK_ARSaleForecastID
                                                                                        AND ARSaleForecastCuss.ARSaleForecastCusID = ARSaleForecastItems.FK_ARSaleForecastCusID
													                                    AND ARSaleForecasts.AAStatus = 'Alive'
													                                    AND ARSaleForecastCuss.AAStatus = 'Alive'
													                                    AND ARSaleForecastItems.AAStatus = 'Alive'
													                                    AND ARSaleForecastCuss.ARSaleForecastCusID = {0})", iForecastCussID);
            DataSet ds = GetDataSet(strQry);
            if (ds != null && ds.Tables.Count > 0 && ds.Tables[0].Rows.Count > 0)
                return (ARSaleForecastItemsInfo)GetObjectFromDataRow(ds.Tables[0].Rows[0]);
            else
                return null;
        }
	}
	#endregion
}