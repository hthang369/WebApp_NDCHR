using System;
using System.Data;
using System.Text;
using System.Collections.Generic;
using ExpertWebLib;
namespace ExpertERP.BusinessEntities
{
	#region ARCustReqAnalyzes
	//-----------------------------------------------------------
	//Generated By: GMC Studio
	//Class:ARCustReqAnalyzesController
	//Created Date:Wednesday, December 17, 2014
	//-----------------------------------------------------------
	
	public class ARCustReqAnalyzesController:BaseBusinessController
	{
		public ARCustReqAnalyzesController()
		{
			dal= new DALBaseProvider("ARCustReqAnalyzes",typeof(ARCustReqAnalyzesInfo));
		}

        public DataSet LayTatCaDuLieuChuaTaoDauThau(int iARCustReqAnalyzeID, String strApprovalStatusCombo)
        {
            String str = String.Format(@"SELECT  *
                                        FROM    dbo.ARCustReqAnalyzes
                                        WHERE   AAStatus = 'Alive'
                                                AND ApprovalStatusCombo = '{1}'
                                                AND ( ARCustReqAnalyzeID = {0}
                                                      OR ARCustReqAnalyzeID NOT IN ( SELECT FK_ARCustReqAnalyzeID
                                                                                     FROM   dbo.ARBiddingPlns
                                                                                     WHERE  AAStatus = 'Alive' )
                                                    )
                                        AND ARCustReqAnalyzeStatusCombo = 'Join'
                                        --AND ARProjectTypeCombo LIKE 'Bidding%'"
                                        , iARCustReqAnalyzeID, strApprovalStatusCombo);
            return dal.GetDataSet(str);
        }
	}
	#endregion
}